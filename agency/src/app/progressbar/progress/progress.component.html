<section class="progress-section">
    <div class="container">
        <!-- <div class="row"> -->
            <div class="card">
                <div class="card-header">
                    <label for="">Book a visit</label>
                </div>
                <div class="card-body">
                    <form id="msform">
                        <div class="row">
                            <div class="col-lg-12 col-md-12">
                                <div class="form-group col-sm-6">
                                    <label for="">Select Category <span>*</span></label>
                                    <select class="form-control"[(ngModel)]="manicat" [ngModelOptions]="{standalone: true}" name="manicat1" id="manicat1" ngModel #manicat1="ngModel" (change)="Categorychange($event);">
                                        <option class="special" value="" disabled selected hidden>
                                            </option>
                                        <option class="special" *ngFor="let item of Category" [value]=item._id>
                                            {{Cat_language(item,'Category')}}
                                        </option>
                                    </select>
                                </div>
                                <div class="form-group col-sm-6">
                                    <label for="">Choose Patient Name <span>*</span></label>
                                    <select class="form-control" [(ngModel)]="address" [ngModelOptions]="{standalone: true}" id="address1" name="address1" ngModel #address1="ngModel" (change)="changeLocation($event.target);">
                                        <option class="special" value="" disabled selected hidden>
                                            </option>
                                        <option class="special" *ngFor="let item of addressLists" [value]=item.patient>
                                            {{item.patient}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-12 col-md-12">
                                <div class="form-group col-sm-6">
                                    <label>Job Date<span>*</span></label>
                                    <select class="form-control" (change)="datechange($event)"
                                        [(ngModel)]="selectdate" name="selectdate1" id="selectdate1" [ngModelOptions]="{standalone: true}" ngModel #selectdate1="ngModel">
                                        <option value="" selected="" disabled="" hidden="">------</option>
                                        <option *ngFor="let item of dateValues"
                                            label="{{item | date :'dd-MMMM-yyyy'}}"
                                            value="{{item | date :'dd-MMMM-yyyy'}}">
                                            {{item | date :'dd-MMMM-yyyy'}} </option>
                                        </select>
                                </div>
                                <div class="form-group col-sm-6">
                                    <label>Job Time</label>
                                    <select class="form-control" (change)="timechange($event)"
                                        [(ngModel)]="selectedtime" id="selectedtime1" name="selectedtime1" [ngModelOptions]="{standalone: true}" ngModel #selectedtime1="ngModel">
                                        <option value="" selected="" disabled="" hidden="">------</option>
                                        <option *ngFor="let item of timeValues" label="{{item | date:'h:mm a'}}"
                                        value="{{item | date:'H:mm '}}">{{item | date:'h:mm a'}}
                                    </option>
                                    </select>         
                                </div>
                            </div>
                            <div class="col-lg-12 col-md-12">
                                <div class="top-services" *ngIf="taskerlistfilter&& taskerlistfilter.length>0">
                                    <div class="{{item.selected? 'top-info expert-select':'top-info'}}"
                                        *ngFor="let item of taskerlistfilter">
                                        <div class="top-list-head" (click)="taskers(item)">
                                            <div class="top-img">
                                                <img src="{{imageUrl}}{{item.avatar}}"
                                                    onerror="this.src='assets/images/Default/user.jpg'">
                                            </div>
                                            <div class="top-top">
                                                <p class="top-name">{{item.username}}</p>
                                                <p class="top-years">{{item.avg_review}} <img
                                                        src="assets/icons/star.png" style="margin-left: 5px;"></p>
                                            </div>
                                        </div>
                                        <div class="top-list-info">
                                            <div class="top-data">
                                                <span>Service Location</span>
                                                <p><img src="assets/icons/location.png">{{item.availability_address}}
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- <fieldset>
                            <div class="form-card">
                                <div class="row">
                                    <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
                                        <p class="fs-title">Choose Caregiver:</p>
                                    </div>
                                    <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
                                        <p class="steps">Step <span>2</span> - 3</p>
                                    </div>
                                </div>
                                <div class="property-data-list experts-date">
                                    <div class="search-drop">
                                        <label>Job Date</label>
                                        <select class="form-control" (change)="datechange($event)"
                                            [(ngModel)]="selectdate">
                                            <option value="" selected="" disabled="" hidden="">------</option>

                                            <option *ngFor="let item of dateValues"
                                                label="{{item | date :'dd-MMMM-yyyy'}}"
                                                value="{{item | date :'dd-MMMM-yyyy'}}">
                                                {{item | date :'dd-MMMM-yyyy'}} </option>
                                        </select>
                                    </div>
                                    <div class="search-drop">
                                        <label>Job Time</label>
                                        <select class="form-control" (change)="timechange($event)"
                                            [(ngModel)]="selectedtime">
                                            <option value="" selected="" disabled="" hidden="">------</option>
                                            
                                            <option *ngFor="let item of timeValues" label="{{item | date:'h:mm a'}}"
                                            value="{{item | date:'H:mm '}}">{{item | date:'h:mm a'}}
                                        </option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </fieldset> -->
                        <!-- <fieldset>
                            <div class="form-card">
                                <div class="row">
                                    <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
                                        <p class="fs-title">Confirm:</p>
                                    </div>
                                    <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
                                        <p class="steps">Step <span>3</span> - 3</p>
                                    </div>
                                </div>
                                <h2 class="purple-text text-center"><strong>Are you sure to confirm
                                        booking?</strong></h2>
                                <div class="row text-center">
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                        <span class="tick-box">
                                            <img src="assets/icons/docs.gif" class="fit-image">
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="progress-btns">
                                
                            </div>
                        </fieldset> -->
                       
                    </form>
                </div>
                <div class="card-footer">
                    <div>
                        <!-- <input type="button" name="previous" class="previous action-button-previous"
                            value="Previous" /> -->
                        <input type="button" name="next" class="next action-button" value="Confirm"
                            data-toggle="modal" (click)="confirmTasker()"  />
                    </div>
                </div>
            </div>
           
        <!-- </div> -->
    </div>
</section>
<script>
    $(document).ready(function () {

        var current_fs, next_fs, previous_fs; //fieldsets
        var opacity;
        var current = 1;
        var steps = $("fieldset").length;

        setProgressBar(current);

        $(".next").click(function () {

            current_fs = $(this).parent().parent();
            next_fs = $(this).parent().parent().next();

            //Add Class Active
            $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");

            //show the next fieldset
            next_fs.show();
            //hide the current fieldset with style
            current_fs.animate({ opacity: 0 }, {
                step: function (now) {
                    // for making fielset appear animation
                    opacity = 1 - now;

                    current_fs.css({
                        'display': 'none',
                        'position': 'relative'
                    });
                    next_fs.css({ 'opacity': opacity });
                },
                duration: 500
            });
            setProgressBar(++current);
        });

        $(".previous").click(function () {

            current_fs = $(this).parent().parent();
            previous_fs = $(this).parent().parent().prev();

            //Remove class active
            $("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active");

            //show the previous fieldset
            previous_fs.show();

            //hide the current fieldset with style
            current_fs.animate({ opacity: 0 }, {
                step: function (now) {
                    // for making fielset appear animation
                    opacity = 1 - now;

                    current_fs.css({
                        'display': 'none',
                        'position': 'relative'
                    });
                    previous_fs.css({ 'opacity': opacity });
                },
                duration: 500
            });
            setProgressBar(--current);
        });

        function setProgressBar(curStep) {
            var percent = parseFloat(100 / steps) * curStep;
            percent = percent.toFixed();
            $(".progress-bar")
                .css("width", percent + "%")
        }

        $(".submit").click(function () {
            return false;
        })

    });
</script>

<!-- <div class="modal fade success-pop" id="success-pop" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <h2 class="purple-text text-center"><strong>SUCCESSFULLY BOOKED !</strong></h2>

                <span class="tick-box">
                    <img src="assets/icons/doctor.gif" class="fit-image">
                </span>
            </div>

        </div>
    </div> -->
<!-- </div> -->
<div bsModal #childModal="bs-modal" class="modal fade success-pop"   id="success-pop" vtabindex="-1"
role="dialog" aria-labelledby="dialog-child-name">
<div class="modal-dialog modal-sm">
<div class="modal-content">
 <div class="modal-header">
   <!-- <h4 id="dialog-child-name" class="modal-title pull-left"></h4> -->
   <button type="button" class="close pull-right btn-close" aria-label="Close" >
     <span aria-hidden="true" class="visually-hidden">&times;</span>
   </button>
 </div>
 <div class="modal-body">
    <h2 class="purple-text text-center"><strong>SUCCESSFULLY BOOKED !</strong></h2>

    <span class="tick-box">
        <img src="assets/icons/doctor.gif" class="fit-image">
    </span>
</div>
</div>
</div>
</div>